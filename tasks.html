<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tasks</title>
    <link rel="stylesheet" href="styles.css">
	<script src="popup-window4.js"></script>

    <script>
	
        function showTab(tabId) {
            // Hide all sections
            document.getElementById('query-responses').style.display = 'none';
            document.getElementById('approval-history').style.display = 'none';
            
            // Show the selected section
            document.getElementById(tabId).style.display = 'block';

            // Update active tab
            document.querySelectorAll('.approvals-sub-navbar a').forEach(function(el) {
                el.classList.remove('active');
            });
            document.querySelector('[data-tab="' + tabId + '"]').classList.add('active');
        }

        // Initialize the page to show Query Responses by default
        window.onload = function() {
            showTab('query-responses');
        };
		
		
		
		
		
		
// Function to toggle the visibility of the dropdown menu
function toggleMoreMenu() {
    const moreDropdown = document.querySelector('.more-dropdown');
    moreDropdown.classList.toggle('show');
}

// Function to adjust navigation items based on available space
function adjustNavItems() {
    const tabs = document.querySelector('.tabs');
    const moreButton = document.querySelector('.more');
    const moreDropdown = document.querySelector('.more-dropdown');

    // Reset dropdown content and show all tabs initially
    moreDropdown.innerHTML = '';
    Array.from(tabs.children).forEach(tab => {
        if (!tab.classList.contains('more')) {
            tab.style.display = 'inline-block';
        }
    });

    // Calculate the available space and hide items if necessary
    let availableWidth = tabs.clientWidth - moreButton.clientWidth;
    Array.from(tabs.children).forEach(tab => {
        if (!tab.classList.contains('more') && availableWidth < tab.clientWidth) {
            tab.style.display = 'none';

            // Clone the tab and append to dropdown
            const dropdownItem = tab.cloneNode(true);
            dropdownItem.style.display = 'block';  // Ensure cloned item displays correctly
            dropdownItem.style.padding = '8px 12px'; // Match dropdown style
            moreDropdown.appendChild(dropdownItem);
        } else if (!tab.classList.contains('more')) {
            availableWidth -= tab.clientWidth;
        }
    });

    // Show the "More" button only if there are items in the dropdown
    moreButton.style.display = moreDropdown.children.length > 0 ? 'inline-block' : 'none';
}

// Event listener to toggle the dropdown menu on click
document.addEventListener("DOMContentLoaded", function() {
    const moreButton = document.querySelector('.more');
    const moreDropdown = document.querySelector('.more-dropdown');

    // Attach event listener to More button
    moreButton.addEventListener('click', function(event) {
        event.stopPropagation();  // Prevent click from bubbling up
        moreDropdown.classList.toggle('show');
    });

    // Close the dropdown if clicking outside
    window.addEventListener('click', function(event) {
        if (!moreButton.contains(event.target) && !moreDropdown.contains(event.target)) {
            moreDropdown.classList.remove('show');
        }
    });

    // Adjust navigation items when page is loaded and on window resize
    window.addEventListener('resize', adjustNavItems);
    window.addEventListener('load', adjustNavItems);
});
		
    </script>

	
	
</head>
<body>

    <!-- Navigation -->
    <div class="navbar">
        <div class="menu-icon" onclick="toggleMenu()">â˜°</div>
        <div class="logo">
            <img src="Farm Cove Horizontal Logo.png" alt="Farm Cove Logo"> <!-- Placeholder for the logo -->
        </div>
        <div class="nav-icons">
            <img src="magnifying glass.png" alt="Search" class="icon">
            <img src="bell.png" alt="Notifications" class="icon">
            <img src="avatar.png" alt="User" class="icon">
        </div>
    </div>

    <!-- Main Navigation Tabs -->
    <div class="tabs">
        <a href="index.html">Home</a>
        <a href="approvals.html">Approvals</a>
        <a href="tasks.html" class="active">Tasks</a>
        <a href="film-details.html">Film Details</a>
        <a href="reporting.html">Reports</a>
        <a href="schedule-payment.html">Schedule Payment</a>
        <a href="pay.html">Pay</a>
		
		<!-- More Button -->
		<div class="more">
			More
			<div class="more-dropdown"></div>
		</div>
			
		
    </div>

    <!-- Task Section -->
    <div class="task-container">
        <!-- Task Group 1 -->
        <div class="task-group">
            <h2>Project Onboarding - Project Title (7/16)</h2>

            <div class="task-list">
			
                <div class="task-section">
				
                    <h3>Project Details (3/7)</h3>
					
					<div class="task-item">
                        <input type="checkbox"  checked disabled>
                        <label>Add project details</label>
                        <td><button class="button1" onclick="openPopup(this)" data-type="full" data-title="To the Moon!" data-country="India" data-language="Hindi" data-indian-rating="UA" data-uk-rating="Parental Guidance">Open</button></td>
                    </div>
					
                    <div class="task-item">
                        <input type="checkbox" checked disabled>
                        <label>Provide budget estimate</label>
                        <td><button class="button1" onclick="openPopup(this)" data-type="budget">Open</button></td>
                    </div>
					
                    <div class="task-item">
                        <input type="checkbox" disabled>
                        <label>Add production schedule</label>
                        <td><button class="button2" onclick="openPopup()" disabled>Open</button></td>
                    </div>
					
                    <div class="task-item">
                        <input type="checkbox" checked disabled>
                        <label>Provide UK FPC requirements</label>
                    </div>
					
                </div>

                <div class="task-section">
				
                    <h3>Key People (1/3)</h3>
					
                    <div class="task-item">
                        <input type="checkbox" checked disabled>
                        <label>Add producers</label>
                        <td><button class="button1" onclick="openPopup(this)" data-type="relationship">Open</button></td>
                    </div>
					
                    <div class="task-item">
                        <input type="checkbox" disabled>
                        <label>Add Film Director name</label>
                        <td><button class="button2" onclick="openPopup()" disabled>Open</button></td>
                    </div>
					
                    <div class="task-item">
                        <input type="checkbox" disabled>
                        <label>Add story writer name(s)</label>
                        <td><button class="button2" onclick="openPopup()" disabled>Open</button></td>
                    </div>
					
                </div>

                <div class="task-section">
				
                    <h3>BFI Application (4/7)</h3>
					
                    <div class="task-item">
                        <input type="checkbox" checked disabled>
                        <label>BFI Points Calculator - Choose points being claimed</label>
                        <td><button class="button2" onclick="openPopup()"disabled>Open</button></td>
                    </div>
					
                    <div class="task-item">
                        <input type="checkbox" checked disabled>
                        <label>Provide a detailed synopsis</label>
                        <td><button class="button2" onclick="openPopup()"disabled>Open</button></td>
                    </div>
					
                </div>
            </div>
        </div>
    </div>








<!-- Popup Window -->
<div id="popup" class="popup">
    <div class="popup-inner">
        <button class="close-btn1" onclick="closePopup()">X</button>
        <h3>Please complete the following details</h3>

        <!-- Full Project Details Section -->
        <div id="full-details" style="display: none;">
            <form class="details-form">
                <div class="form-group">
                    <label for="provisional-title">Provisional Title</label>
                    <input type="text" id="provisional-title" readonly>
                </div>
                <div class="form-group">
                    <label for="title">Title</label>
                    <input type="text" id="title" readonly>
                </div>
                <div class="form-group">
                    <label for="fpc-country">Overseas FPC Country</label>
                    <input type="text" id="fpc-country" readonly>
                </div>
                <div class="form-group">
                    <label for="film-language">Film Language</label>
                    <input type="text" id="film-language" readonly>
                </div>
                <div class="form-group">
                    <label for="indian-rating">Desired Indian CBFC Rating</label>
                    <input type="text" id="indian-rating" readonly>
                </div>
                <div class="form-group">
                    <label for="uk-rating">Desired UK BBFC Rating</label>
                    <input type="text" id="uk-rating" readonly>
                </div>
            </form>
        </div>

        <!-- Estimated Budget Section -->
        <div id="budget-details" style="display: none;">
            <form class="details-form">
                <div class="form-group">
                    <label for="estimated-budget">Estimated Budget</label>
                    <input type="text" id="estimated-budget" readonly>
                </div>
            </form>
        </div>

        <!-- Table Section for Third Button -->
        <div id="relationship-table" style="display: none;">
            <table class="relationship-table">
                <thead>
                    <tr>
                        <th>Amelia Foster</th>
                        <th>Relationship Type</th>
                        <th>Role/Designation</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Lucas Barrett</td>
                        <td>Chain of Title</td>
                        <td>Producer</td>
                        <td><button class="edit-btn">Edit</button></td>
                    </tr>
                    <tr>
                        <td>Oliver Grant</td>
                        <td>Chain of Title</td>
                        <td>Producer</td>
                        <td><button class="edit-btn">Edit</button></td>
                    </tr>
                    <tr>
                        <td>Ethan McAllister</td>
                        <td>Chain of Title</td>
                        <td>Producer</td>
                        <td><button class="edit-btn">Edit</button></td>
                    </tr>
                    <!-- Add more rows as needed -->
                </tbody>
            </table>

            <!-- Add Producer Button -->
            <div class="add-producer-button">
                <button onclick="addProducer()">+ Add Producer</button>
            </div>
        </div>

        <!-- Buttons at the Bottom -->
        <button class="close-btn1" onclick="closePopup()">X</button>
			<div class="popup-buttons">
				<button class="cancel-btn" onclick="closePopup()">Cancel</button>
				<button class="save-btn" onclick="saveDetails()">Save</button>
			</div>
    </div>
</div>



















</body>
</html>
